<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<title>关于作业</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/general.css" rel="stylesheet">
<link href="css/about.css" rel="stylesheet">
</head>

<body>
<div id="forNav" class="container-fluid">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#myNavbar" aria-expanded="false">
          <span class="sr-only">打开导航栏</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><img class="img-responsive" src="pic/logo.png" alt="Oscar"></a>
      </div><!-- .navbar-header -->
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav">
          <li><a href="index.html">首页</a></li>
          <li><a href="Prize_Winner.html">获奖名单</a></li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">推荐影片 <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="introduction/the-revenant/index.html">《荒野猎人》</a></li>
              <li><a href="introduction/spotlight/index.html">《聚焦》</a></li>
              <li><a href="introduction/the-danish-girl/index.html">《丹麦女孩》</a></li>
              <li><a href="introduction/room/index.html">《房间》</a></li>
            </ul><!-- .dropdown-menu -->
          </li><!-- .dropdown -->
          <li><a href="Media.html">多媒体展厅</a></li>
        </ul><!-- .navbar-nav -->
        <ul class="nav navbar-nav navbar-right">
          <li class="active"><a href="About.html">关于作业<span class="sr-only">(当前)</span></a></li>
        </ul><!-- .navbar-right -->
      </div><!-- #myNavbar -->
    </div><!-- .container -->
  </nav>
</div>
<div id="forMain" class="container">
  <div class="col-xs-12">
    <main>
      <fieldset class="gold">
        <legend id="TLDR">长话短说</legend>
        <p>这份作业是在Bootstrap的框架上自行设计实现的，没有套用模板。</p>
        <p>从设计阶段就遵循响应式设计理念，这套网站有至少两套排版，可通过拖拽浏览器窗口尺寸或者用手机平板等访问网站查看效果。</p>
        <p>用1200像素以上屏幕观看网页效果最佳。请使用较新版本的Chrome或火狐打开网页，不完全保证其他浏览器的兼容性。</p>
      </fieldset>
      <fieldset>
        <legend id="general">总览</legend>
        <p>这份作业（我个人更倾向于叫作品）使用<a href="http://getbootstrap.com/getting-started/">Bootstrap 3</a>和<a href="https://jquery.com/">jQuery 3 RC版</a>来帮助实现。同时还使用了几个<a href="http://glyphicons.com/">Glyphcions</a>。</p>
        <p>经测试可在绝大部分浏览器(Chrome/Firefox/Safari)和系统(Windows/Linux/Android/iOS)上访问，具体可查看Bootstrap的<a href="http://getbootstrap.com/getting-started/#support">设备支持列表</a>。因为使用到HTML5元素，不支持IE9及以下/较老版本iOS及Android访问，页面效果会出问题。</p>
        <p>出于<a href="https://en.wikipedia.org/wiki/Adobe_Flash_Player#Security">安全性</a>考虑，没有使用任何Flash元素。所有的交互部分由JavaScript实现。同时因为优酷等国内视频网站均采用Flash播放视频，因此预告片部分采用了直接打开新窗口的方式，而没有将视频嵌入网站。</p>
        <p>所有的文字结构由<a href="http://pandoc.org/index.html">Pandoc</a>自动转换生成，包括现在的这份说明文档。</p>
        <p>所有的文件都可以在<a href="https://github.com/ColinLee97/RaspBerry/tree/%E5%A4%A7%E4%B8%80%E4%B8%8B/%E6%9C%9F%E6%9C%AB%E5%A4%A7%E4%BD%9C%E4%B8%9A">我的Github</a>上看到（除了文字和图片原稿，因为实在太大），包括一些不是很详细的commit历史。</p>
        <p>移动端可以访问<a href="http://lee.icesoft.cc/">服务器版网页</a>。Github里面没有后缀的是作业版，带了.min后缀的是服务器版。服务器版的文件删除了所有注释且不具备任何可读性，图片也是经过缩小的。除此之外没有任何本质区别。</p>
        <p>所有的HTML、CSS与JS均经过lint与<a href="http://jigsaw.w3.org/css-validator/#validate-by-upload">w3.org</a>的检验，无语法错误。</p>
      </fieldset>
      <fieldset>
        <legend id="topic">选题</legend>
        <p>原本我们想要做的是今年普利策奖中美联社报道的，<a href="http://www.ap.org/explore/seafood-from-slaves/">东南亚奴役劳工事件</a>。</p>
        <p>后来因为种种原因（主要是美联社自己已经做了一个很好看的专题网页，在构思网页设计的时候被先入为主了），我们重新选择了奥斯卡奖作为这次大作业的主题。</p>
        <p>这份作业对第88届奥斯卡奖的24类奖项做了个汇总，并从中推荐了4部值得观看的影片。感谢郭同学写出的四篇影评，以及李同学辛苦剪出来的回顾视频。（咦可是有两个李同学哦？）</p>
      </fieldset>
      <fieldset>
        <legend id="design-inspiration">设计灵感</legend>
        <p>网页总体的设计灵感来源于这个月（16年6月）面市的<a href="http://www.mirrorsedge.com/">一款游戏《镜之边缘：催化剂》的官方网站</a>。大面积的横幅、背景图片的art-direction、按钮的布局等，都可以见到十分相似的地方。（悄悄安利）这款游戏本身也以独特的游戏与（视觉）设计风格而闻名，原本面市与09年，这次是时隔7年的重启之作。</p>
        <p>可变导航栏和首页的翻页箭头，灵感来源于在Bootstrap官网的Expo中发现的一个网站<a href="http://presentation.creative-tim.com/">Creative Tim</a>，包括部分代码实现也是从这个网站上借鉴的。</p>
      </fieldset>
      <fieldset>
        <legend id="responsive-design">响应式设计</legend>
        <p>作为现在网页设计的一个潮流，响应式设计(Responsive Design)也被应用到了这份作业中，并且体现在方方面面。通过响应式设计，同一个网站可以在不同的浏览器、设备、屏幕上呈现出不一样的、有针对性的排版，减少缩放、平移和滚动。</p>
        <h4 id="grid-system">栅格系统（Grid System）与关界点阈值(Viewport Breakpoint)</h4>
        <p>网页继承了<a href="http://getbootstrap.com/css/#grid-options">Bootstrap的栅格系统与关界点阈值</a>。</p>
        <p>这份网站是在Bootstrap的框架下搭建的，所以也沿用了他的定义，并没有做出更改。</p>
        <img class="img-responsive" src="pic/about/grid.jpg" alt="Grid System">
        <p>网页基本上有两套排版，一套针对移动设备的（col-xs），一套针对平板、桌面的(sm/md/lg)，部分涉及到图片的内容会有三套排版(xs、sm/md、lg)。</p>
        <p>以首页为例，移动设备基本上属于垂直排版，而对于更大的设备，会出现横向的排版。</p>
        <img class="img-responsive" src="pic/about/viewport.jpg" alt="Viewport">
        <h4 id="units">尺寸单位</h4>
        <p>在设计中，绝大部分采用的都是vh/vw/百分比等相对（视口的）单位，而不是传统的px等绝对单位。这样在进行缩放时，各部分对应的比例关系也能维持下去。</p>
        <p>但一个很大的例外就是字体大小。因为流动(fluid)的字体大小算法很复杂…而且加上Bootstrap自身规定了字体大小，要超控比较麻烦，最终还是放弃了。在开发中的Bootstrap 4中，默认的单位大小也改为了相对单位，这是很值得期待的一个亮点。</p>
        <h4 id="mobile-first">移动优先，渐进增强</h4>
        <p>从前期做设计的时候，一直贯彻着“渐进增强，而不是优雅降级”的理念。所有的排版、文字和图片都是建立在移动设备的视角上的。在移动设备上显示无问题之后，再不断增添功能，丰富其他更多的视角。</p>
        <p>以推荐影片中的《荒野猎人》一页为例。这里面最典型的就是封面海报与按钮的设计，让我们看一看负责这一部分的HTML与CSS。</p>
        <pre><code>&lt;header class=&quot;img-holder&quot;&gt;
  &lt;img class=&quot;visible-lg-block&quot; src=&quot;pic/large.jpg&quot; alt=&quot;poster&quot;&gt;
  &lt;img class=&quot;visible-sm-block visible-md-block&quot; src=&quot;pic/middle.jpg&quot; alt=&quot;poster&quot;&gt;
  &lt;img class=&quot;visible-xs-block&quot; src=&quot;pic/small.jpg&quot; alt=&quot;poster&quot;&gt;
  &lt;div class=&quot;img-content img-content-left&quot;&gt;
    &lt;h1&gt;《荒野猎人》&lt;/h1&gt;
    &lt;p class=&quot;lead&quot;&gt;豆瓣评分 7.9/10&lt;/p&gt;
    &lt;a class=&quot;btn btn-danger btn-lg&quot; href=&quot;http://v.youku.com/v_show/id_XMTU0NDE4ODM2NA==.html?from=s1.8-1-1.2&quot; target=&quot;_blank&quot; role=&quot;button&quot;&gt;观看预告片&lt;/a&gt;
  &lt;/div&gt;
&lt;/header&gt;</code></pre>
        <pre><code>/* img-holder-content */
.img-holder {
  position: relative;
}

.img-content {
  text-align: center;
  font-weight: bold;
}

@media (min-width: 768px) {
  .img-content {
    position: absolute;
    top: 45%;
    transform: translate(-50%, -50%);
    ...
  }

  .img-content-left {
    left: 25vw;
  }
}</code></pre>
        <p>这个img-holder-content结构以及三张图片的hidden/visible属性（实质是响应式设计中的Art Direction问题）会在后面再介绍，重点是中间的media query部分。</p>
        <p>可以看到，默认情况下，按钮及说明文字本身除了居中和加粗以外就没有别的样式了，这也就是移动设备上看到的效果。</p>
        <p>而针对更先进、功能更强大、支持性更好的桌面浏览器来说，便使用CSS3里的media query，来针对性地增强样式效果与交互体验。对于那些落后的浏览器以及移动设备来说，不支持media query便会忽视里面的内容，这就是渐进增强的一个典例。</p>
        <img class="img-responsive" src="pic/about/responsive.jpg" alt="Responsive Design">
        <h4 id="art-direction">Art Direction</h4>
        <p>在响应式设计中，关于响应式图片有两个特性：一个是针对不同分辨率的屏幕会展示不同分辨率的图片，这样确保显示效果（高清屏显示高清图）的同时减少流量（手机看小图）；另一个就是Art-Direction，针对不同的尺寸采取不同的构图。</p>
        <p>这个功能，可以用HTML5最新的&lt;picture&gt;实现。然而，在倒数第二天进行调试的时候，我才发现，因为&lt;picture&gt;标签太先进，很多的浏览器并不支持这样的标签（需要iOS 9.3以上的Safari，全系的IE浏览器都不支持，就连CC 2015版的DW都会提示语法错误）。最终，我换了另一种方法来实现。</p>
        <p>还是以《荒野猎人》为例，下面是涉及到的HTML。</p>
        <pre><code>&lt;header class=&quot;img-holder&quot;&gt;
  &lt;img class=&quot;visible-lg-block&quot; src=&quot;pic/large.jpg&quot; alt=&quot;poster&quot;&gt;
  &lt;img class=&quot;visible-sm-block visible-md-block&quot; src=&quot;pic/middle.jpg&quot; alt=&quot;poster&quot;&gt;
  &lt;img class=&quot;visible-xs-block&quot; src=&quot;pic/small.jpg&quot; alt=&quot;poster&quot;&gt;
  ...
&lt;/header&gt;</code></pre>
        <p>所有的封面海报都有三个版本，针对移动设备专门裁剪（竖屏）的small.jpg，针对平板和小屏幕的(16:9)middle.jpg，以及针对台式机显示器的（2.35：1）large.jpg。</p>
        <img class="img-responsive" src="pic/about/artdirection.jpg" alt="Art Direction">
        <p>很简单粗暴的方法，配合Bootstrap的分界点阈值，在不同的视口宽度下显示不同的图片，剩下的图片被隐藏。这种方法最大的缺陷就在于，需要加载三张图而不是一张图，这会极大地增大流量、减慢速度。</p>
        <p>在&lt;picture&gt;元素出来之前，还有一种解决方法，就是把图片写入css的background-img里面，然后通过media query来控制。主要是当时我的网页绝大部分结构都写完了，如果要从&lt;picture&gt;改到这种方式，需要大改结构，所以也就放弃了，选了上面那种做法。</p>
      </fieldset>
      <fieldset>
        <legend id="navbar">导航栏</legend>
        <p>导航栏有两个版本，xs下是变成一个可缩放的通过按钮控制的导航栏，其他视角下是完整的导航栏。这个是Bootstrap自己提供的。</p>
        <p>我在Bootstrap的框架下，自定义了导航栏的样式。那些金黄色的状态条是我自己加上去的，是给border加上颜色并配合CSS的伪类实现。</p>
        <p>导航栏最大的亮点在于透明渐变，原理是这样的：我通过CSS定义一个了.navbar-transparent类，并且通过jQuery来监听页面滚动位置。当页面滚过封面海报(.header)的四分之三时，通过DOM API给导航栏移除.navbar-transparent类，变成实心导航栏。当页面滚回去时，加入透明类，导航栏变成透明。</p>
        <pre><code>//复制来的一段代码，用于减少事件击发次数
// Returns a function, that, as long as it continues to be invoked, will not
// be triggered. The function will be called after it stops being called for
// N milliseconds. If `immediate` is passed, trigger the function on the
// leading edge, instead of the trailing.
function debounce(func, wait, immediate) {
    var timeout;
    return function() {
        var context = this, args = arguments;
        var later = function() {
            timeout = null;
            if (!immediate) func.apply(context, args);
        };
        var callNow = immediate &amp;&amp; !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) func.apply(context, args);
    };
};

//定义全局变量target
var target;

//当网页加载或者拖拉窗口尺寸时，将封面海报的四分之三高度赋值给target
$(window).on(&quot;load resize&quot;, function() {
    target = $(&quot;.header&quot;).height()*3/4;
});

//定义变更类的函数，用于绑定侦听器
//加入debounce来限制最多每17毫秒执行一次函数，避免过分占用CPU
var checkScroll = debounce(function() {

    //判断页面位置是否大于窗口高度
    if ($(window).scrollTop() &gt; target) {

        //当结果为真，即滚到封面海报以下时，移除.navbar-transparent类
        $(&quot;.navbar&quot;).removeClass(&quot;navbar-transparent&quot;);
    } else {

        //反之，则添加透明类
        $(&quot;.navbar&quot;).addClass(&quot;navbar-transparent&quot;);
    };
},17);

//将函数与窗口滚动绑定在一起
$(window).on(&quot;scroll&quot;, checkScroll);</code></pre>
        <p>而渐变效果只在大屏幕上能显示，对移动设备无影响。（其实这一监测应该交由JS而不是CSS的media query来做，从提高效率的角度看）。动画效果会在后面提到。</p>
        <pre><code>@media (min-width: 768px) {
  ...
  .navbar-transparent .navbar-nav &gt; .active &gt; a {
    background-color: transparent;
    ....
  }

  /*** 动画效果 ***/
  .navbar-default {
    transition: background-color 0.3s ease;
    -webkit-transition: background-color 0.3s ease;
    -moz-transition: background-color 0.3s ease;
    -o-transition: background-color 0.3s ease;
  }
  ...
}</code></pre>
      </fieldset>
      <fieldset>
        <legend id="img-holder-content">按钮排版的img-holder-content结构</legend>
        <p>其实原本不需要这么复杂，如果把图片作为CSS的background-img而不是单独做一个&lt;img&gt;的话。先以《荒野猎人》为例，看看这个结构。</p>
        <pre><code>&lt;div class=&quot;row header&quot;&gt;
  &lt;header class=&quot;img-holder&quot;&gt;
    &lt;img class=&quot;visible-lg-block&quot; src=&quot;pic/large.jpg&quot; alt=&quot;poster&quot;&gt;
    &lt;img class=&quot;visible-sm-block visible-md-block&quot; src=&quot;pic/middle.jpg&quot; alt=&quot;poster&quot;&gt;
    &lt;img class=&quot;visible-xs-block&quot; src=&quot;pic/small.jpg&quot; alt=&quot;poster&quot;&gt;
    &lt;div class=&quot;img-content img-content-left&quot;&gt;
      &lt;h1&gt;《荒野猎人》&lt;/h1&gt;
      &lt;p class=&quot;lead&quot;&gt;豆瓣评分 7.9/10&lt;/p&gt;
      &lt;a class=&quot;btn btn-danger btn-lg&quot; href=&quot;http://v.youku.com/v_show/id_XMTU0NDE4ODM2NA==.html?from=s1.8-1-1.2&quot; target=&quot;_blank&quot; role=&quot;button&quot;&gt;观看预告片&lt;/a&gt;
    &lt;/div&gt;
  &lt;/header&gt;
&lt;/div&gt;&lt;!-- .row --&gt;</code></pre>
        <pre><code>/* img-holder-content */
.img-holder {
  position: relative;
}

.img-content {
  position: absolute;
  text-align: center;
  top: 45%;
  transform: translate(-50%, -50%);
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  -o-transform: translate(-50%, -50%);
  ...
}</code></pre>
        <p>div是最高层，负责整个部分的排版（是Bootstrap的一部分），这样下面的holder自己的CSS不会影响整体排版。</p>
        <p>holder里面有着背景图片和需要排版的content。content里面使用absolute，配合相对单位以及transform（原本的中心点是左上角，通过transform移到中心）来进行响应式的排版。</p>
        <p>值得一提的是，transform对不少浏览器来说仍然标记为是实验性质的技术，所以需要加入-webkit-等前缀保证浏览器启用。</p>
      </fieldset>
      <fieldset>
        <legend id="pseudo-class">首页影片推荐的悬停效果</legend>
        <p>这其实是个纯CSS的交互，利用了CSS的伪类(Pseudo-classes)，其中主要是:hover。（注：因为触摸屏并没有非常准确的:hover和:active，因此该效果在移动端通过media query被禁用）</p>
        <pre><code>/* 鼠标悬停动画效果 */
@media (min-width: 769px) {
  .col-md-3 a {
    opacity: 0.6;
    transition: opacity 0.2s ease-in;
  }

  .col-md-3 a:hover,
  .col-md-3 a:focus,
  .col-md-3 a:active {
    opacity: 1;
    transition: opacity 0.2s ease-out;
    -webkit-transition: opacity 0.2s ease-out;
    -moz-transition: opacity 0.2s ease-out;
    -o-transition: opacity 0.2s ease-out;
  }
}</code></pre>
        <p>除了伪类的使用外，还使用了CSS3的动画效果(transition)，有一个0.2秒的淡出过渡。同样的动画效果也被应用在了导航栏的透明渐变之中。</p>
      </fieldset>
      <fieldset>
        <legend id="affix">Affix</legend>
        <p>不好意思我真的不知道这玩意中文叫啥。如果在台式机上打开，获奖名单页最右边的导航栏就是个affix的实例。这个是通过<a href="http://getbootstrap.com/javascript/#affix">Bootstrap自带的JS插件</a>实现的，我做的主要是样式和动画效果。</p>
        <p>样式通过伪类来定义很容易，而超链接跳转的动画效果主要是通过jQuery来实现的。原本点击超链接（带#号标签的链接，指向的是同一页面中的不同位置），会直接打开新的页面并显示目标位置（可以看到URL背后带有#号）。而我所做的就是阻止这件事情，通过jQuery探测目标页面位置，改变当前滚动位置来缓慢滚上去。</p>
        <pre><code>//所有含有.inPage类名的超链接&lt;a&gt;，给点击事件添加新动作
$(&quot;a[class~=&#39;inPage&#39;]&quot;).on(&quot;click&quot;,function(e){
    //阻止默认动作，即跳转到超链接所指向的页面
    e.preventDefault();

    //获取超链接的href属性，即要跳转到的页面位置
    var dest = $(this).attr(&quot;href&quot;);

    //需要对高度做出的补偿，由HTML部分定义
    //这是为了通用性，因为要在不同排版的页面中
    //使用这个代码，所以有这么一个属性
    var minus = $(this).attr(&quot;minus&quot;);

    //判断页面目标位置，若为#（回到顶部）则为零
    if (dest==&quot;#&quot;) {
        var target = 0;
    } else {
        var target = $(dest).offset().top-minus;
    }

    //通过jQuery来不断更改当前滚动位置，以实现动画效果
    $(&quot;body&quot;).animate({scrollTop: target}, &quot;slow&quot;);
});</code></pre>
        <pre><code>&lt;aside id=&quot;myAffix&quot; data-spy=&quot;affix&quot;&gt;
  &lt;ul class=&quot;nav&quot;&gt;
    &lt;li&gt;&lt;a class=&quot;inPage&quot; minus=&quot;90&quot; href=&quot;#best-picture&quot;&gt;最佳影片&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a class=&quot;inPage&quot; minus=&quot;90&quot; href=&quot;#directing&quot;&gt;最佳导演&lt;/a&gt;&lt;/li&gt;
    ...
  &lt;/ul&gt;
  &lt;ul class=&quot;return-to-top&quot;&gt;&lt;a class=&quot;inPage&quot; minus=&quot;0&quot; href=&quot;#&quot;&gt;回到顶部&lt;/a&gt;&lt;/ul&gt;
&lt;/aside&gt;</code></pre>
        <p>动画效果是由jQuery自带的<a href="http://api.jquery.com/animate/">.animate()</a>实现的，这个函数不断改变目标数值，以达到动画效果。</p>
      </fieldset>
      <fieldset>
        <legend id="modal">Modal</legend>
        <p>在台式机上，每部影片的演职员介绍是可以点击的，打开后有演员的个人介绍。鼠标悬浮时边框加亮的效果是通过CSS的伪类实现的，而点击弹窗是由Bootstrap提供的<a href="http://getbootstrap.com/javascript/#modals">Modal插件</a>实现的。</p>
      </fieldset>
      <fieldset>
        <legend id="carousel">Carousel</legend>
        <p>这个也是Bootstrap的<a href="http://getbootstrap.com/javascript/#carousel">自带功能之一</a>，根据文档操作即可，不需要自己写太多东西。</p>
      </fieldset>
      <fieldset>
        <legend id="reference">参考资料</legend>
        <p>HTML- <a href="https://developer.mozilla.org/en-US/">Mozilla Developer Network</a></p>
        <p>Bootstrap参考 - <a href="http://getbootstrap.com/">BootStrap官网</a></p>
        <p>jQuery参考 - <a href="http://api.jquery.com/">jQuery API</a></p>
        <p>部分素材 - <a href="http://oscar.go.com/">奥斯卡官网</a></p>
      </fieldset>
    </main>
  </div>
  <!-- .col-sm-9 --> 
</div><!-- #forMain -->
<div id="forFooter">
  <footer class="contianer">
    <p>2015-2016学年 第三学期 数字媒体技术大作业</p>
    <p>by 李昊 李毅斌 郭佳灵</p>
  </footer>
</div>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
<script src="js/jquery.min.js"></script> 
<!-- Include all compiled plugins (below), or include individual files as needed --> 
<script src="js/bootstrap.min.js"></script>
</body>
</html>
